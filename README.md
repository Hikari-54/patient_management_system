# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏ –∏ –≤–∏–∑–∏—Ç–∞–º–∏ (–ú–ò–°)

Monorepo: `client` (React + Zustand + TypeScript) –∏ `server` (NestJS + Prisma + PostgreSQL).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ü–æ–¥–Ω–∏–º–∏—Ç–µ PostgreSQL —á–µ—Ä–µ–∑ Docker

```bash
docker compose up -d postgres
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `DATABASE_URL` –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `server/.env`:

```
DATABASE_URL=postgresql://postgres:password@localhost:5432/patient_db?schema=public
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ë–î

```bash
cd server
npm ci
npm run prisma:generate
npm run prisma:migrate
npm run db:seed
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
npm run start:dev
# —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:3000
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç

```bash
cd ../client
npm ci
npm run dev
# –∫–ª–∏–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:5173
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Server (NestJS + Jest)**
- **Unit —Ç–µ—Å—Ç—ã:** 7 —Ç–µ—Å—Ç–æ–≤ - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã, –º–æ–¥—É–ª–∏
- **E2E —Ç–µ—Å—Ç—ã:** 3 —Ç–µ—Å—Ç–∞ - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã API
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** Jest —Å ts-jest –¥–ª—è TypeScript
- **–ö–æ–º–∞–Ω–¥—ã:**
  ```bash
  npm run test        # unit —Ç–µ—Å—Ç—ã
  npm run test:e2e    # e2e —Ç–µ—Å—Ç—ã
  npm run test:cov    # –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
  ```

### **Client (React + Vitest)**
- **Unit —Ç–µ—Å—Ç—ã:** 3 —Ç–µ—Å—Ç–∞ - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ö—É–∫–∏, —É—Ç–∏–ª–∏—Ç—ã
- **Testing Library** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è React —Ç–µ—Å—Ç–æ–≤
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** Vitest —Å jsdom –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
- **–ö–æ–º–∞–Ω–¥—ã:**
  ```bash
  npm run test        # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
  npm run test:run    # –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
  ```

### **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 13 (7 unit + 3 e2e –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ + 3 unit –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** ~30% 
- **–¢–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã:** –º–æ–∫–∏, —Ö–µ–ª–ø–µ—Ä—ã, setup —Ñ–∞–π–ª—ã

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üè• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏

- **–°–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤** —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫** –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è)
- **–ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–∞–º** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –¥–∞—Ç (–¥–µ–Ω—å, –º–µ—Å—è—Ü, –≥–æ–¥, –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏)
- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä
- **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –ø–æ–∏—Å–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### üè• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–∞–º–∏

- **–ò—Å—Ç–æ—Ä–∏—è –≤–∏–∑–∏—Ç–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞
- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–æ–≤
- **–°—Ç–∞—Ç—É—Å—ã –≤–∏–∑–∏—Ç–æ–≤** - –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω, –∑–∞–≤–µ—Ä—à–µ–Ω, –æ—Ç–º–µ–Ω–µ–Ω
- **API —Ñ–∏–ª—å—Ç—Ä—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ/—Å—Ç–∞—Ç—É—Å—É –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

### üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–î–µ–±–∞—É–Ω—Å –ø–æ–∏—Å–∫–∞** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞** –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º** - react-hook-form + zod
- **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏** –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## API (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä)

- `GET /patients` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `page`, `limit`, `search`)
- `GET /patients/:id` ‚Äî –ø–∞—Ü–∏–µ–Ω—Ç –ø–æ ID —Å –≤–∏–∑–∏—Ç–∞–º–∏
- `POST /patients` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `PUT /patients/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `DELETE /patients/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `GET /patients/:id/visits` ‚Äî –≤–∏–∑–∏—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `GET /visits` ‚Äî —Å–ø–∏—Å–æ–∫ –≤–∏–∑–∏—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä—ã: `status`, `dateFrom`, `dateTo`, `patientId`) - API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –Ω–æ UI –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- `GET /visits/:id` ‚Äî –≤–∏–∑–∏—Ç –ø–æ ID
- `POST /visits` ‚Äî —Å–æ–∑–¥–∞—Ç—å –≤–∏–∑–∏—Ç
- `PUT /visits/:id` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑–∏—Ç
- `DELETE /visits/:id` ‚Äî —É–¥–∞–ª–∏—Ç—å –≤–∏–∑–∏—Ç

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend (NestJS + Prisma + PostgreSQL)

- **API –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - RESTful endpoints —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - PostgreSQL —Å Prisma ORM
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –ë–î
- **Seed –¥–∞–Ω–Ω—ã–µ** - 7 –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, 9 –≤–∏–∑–∏—Ç–æ–≤ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- **–ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–∞–º** - –≥–∏–±–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —á–∞—Å—Ç–∏—á–Ω—ã–º –¥–∞—Ç–∞–º

### Frontend (React + TypeScript + Zustand)

- **–°–æ—Å—Ç–æ—è–Ω–∏–µ** - Zustand –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏
- **UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** - Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è** - Tailwind CSS —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - memo, useCallback, –¥–µ–±–∞—É–Ω—Å –ø–æ–∏—Å–∫–∞
- **–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Prisma —Å—Ö–µ–º–∞:** `server/prisma/schema.prisma`
- **Seed –¥–∞–Ω–Ω—ã–µ:** `server/prisma/seed.ts`
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** `server/prisma/migrations`
- **API –∫–ª–∏–µ–Ω—Ç:** `client/src/lib/api.ts`
- **Zustand —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:** `client/src/store/*.ts`
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `client/src/components/ui/*.tsx`

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Server
```bash
npm run prisma:generate   # prisma generate
npm run prisma:migrate    # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:push       # —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ö–µ–º—É –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π (dev)
npm run db:seed           # –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run start:dev         # –∑–∞–ø—É—Å—Ç–∏—Ç—å NestJS –≤ dev —Ä–µ–∂–∏–º–µ
```

### Client
```bash
npm run test              # –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (Vitest)
npm run test:ui           # UI –¥–ª—è —Ç–µ—Å—Ç–æ–≤
npm run test:run          # –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:coverage     # –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏
```

## Docker

- `docker-compose.yml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å `postgres` —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: `patient_db`
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `postgres`
  - –ü–∞—Ä–æ–ª—å: `password`
  - –ü–æ—Ä—Ç: `5432`

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫

- **–ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–∞–º —Ä–æ–∂–¥–µ–Ω–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –¥–∞—Ç (03, 1986, 03.01, 01.1986, 03.01.1986)
- **–î–µ–±–∞—É–Ω—Å –ø–æ–∏—Å–∫–∞** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (300ms –∑–∞–¥–µ—Ä–∂–∫–∞)
- **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞** - –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –Ω–µ —Ç–µ—Ä—è–µ—Ç —Ñ–æ–∫—É—Å –ø–æ—Å–ª–µ –¥–µ–±–∞—É–Ω—Å–∞

### üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ padding'—ã –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª** - –¥–ª—è —Ç–∞–±–ª–∏—Ü –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ID –ø–∞—Ü–∏–µ–Ω—Ç–∞** - –¥–ª–∏–Ω–Ω—ã–µ ID –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É
- **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–∏–º—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä** - –¥–ª—è —Å–ø–∏—Å–∫–∞ –≤–∏–∑–∏—Ç–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

### üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

- **Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - Select, Dialog, Alert, Calendar
- **–ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∏—Å–∫–∞** - —É–¥–æ–±–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –ø–æ–∏—Å–∫–∞
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã** - —É–¥–æ–±–Ω—ã–π –≤–≤–æ–¥ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞** - memo –∏ useCallback –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

